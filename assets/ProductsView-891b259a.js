import{_ as k,R as L,r as g,o as t,c as a,d as l,b as s,w as u,F as r,f as p,e as y,t as n,g as V,h as w}from"./index-d80f78a2.js";const{VITE_URL:v,VITE_PATH:b}={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"gracewang",BASE_URL:"/2023-vue3-week7-dashboard/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},T={data(){return{isLoading:!1,loadingStatus:"",products:[]}},components:{RouterLink:L},methods:{loading(){this.isLoading=!0,setTimeout(()=>{this.isLoading=!1},500)},getProducts(){this.$http.get(`${v}/api/${b}/products/all`).then(o=>{this.products=o.data.products}).catch(o=>{alert(o.response.data.message)})},addToCart(o,c=1){const m={product_id:o,qty:c};this.loadingStatus=o,this.$http.post(`${v}/api/${b}/cart`,{data:m}).then(d=>{this.loadingStatus="",alert(d.data.message)}).catch(d=>{alert(d.response.data.message)})}},mounted(){this.getProducts(),this.loading()}},$=s("div",{class:"mb-5 order-banner",style:{height:"378px"}},[s("div",{class:"order-banner-plan"},"線上訂餐")],-1),R={class:"container"},E={"aria-label":"breadcrumb"},S={class:"breadcrumb mb-5"},C={class:"breadcrumb-item"},P=s("li",{class:"breadcrumb-item active","aria-current":"page"},"線上訂餐",-1),N={class:"row row-cols-1 row-cols-md-2 gy-2 mt-3"},U={key:0,class:"col"},B={class:"card mb-3"},D={class:"row g-0"},I={class:"col-md-8"},A={class:"card-body d-flex align-items-start flex-column h-100"},F={class:"card-title"},H={class:"d-flex mb-2"},M={class:"card-text line-clamp"},O={class:"d-flex align-items-center mt-auto"},j=["onClick"],q={key:0,class:"fas fa-spinner fa-pulse"},z={key:1,class:"material-icons fs-2 green"},G={class:"me-2 text-secondary"},J={class:"fs-5 text-bold mb-0 green"},K={class:"col-md-4"},Q={class:"mask rounded-end"},W=["src","alt"];function X(o,c,m,d,i,f){const x=g("VueLoading"),_=g("RouterLink");return t(),a(r,null,[l(x,{active:i.isLoading,"onUpdate:active":c[0]||(c[0]=e=>i.isLoading=e)},null,8,["active"]),$,s("div",R,[s("nav",E,[s("ol",S,[s("li",C,[l(_,{to:"/",class:"green"},{default:u(()=>[y("首頁")]),_:1})]),P])]),s("div",N,[(t(!0),a(r,null,p(i.products,e=>(t(),a(r,{key:e.id},[i.products?(t(),a("div",U,[s("div",B,[s("div",D,[s("div",I,[s("div",A,[l(_,{to:`/product/${e.id}`},{default:u(()=>[s("h5",F,n(e.title),1),s("div",H,[(t(!0),a(r,null,p(e.checkboxFeatures,h=>(t(),a("span",{key:h,class:"badge me-1 green bg-light-green"},n(`${h} `),1))),128))]),s("small",M,n(e.description),1)]),_:2},1032,["to"]),s("div",O,[s("a",{href:"#",class:"link-secondary me-2",title:"加入購物車",onClick:V(h=>f.addToCart(e.id),["prevent"])},[i.loadingStatus===e.id?(t(),a("i",q)):(t(),a("span",z," add_box "))],8,j),s("small",G,[s("del",null,"NT$"+n(e.origin_price),1)]),s("p",J,"NT$"+n(e.price),1)])])]),s("div",K,[s("div",Q,[l(_,{to:`/product/${e.id}`},{default:u(()=>[s("img",{src:e.imageUrl,width:"200",height:"200",class:"rounded-end img-cover",alt:e.title},null,8,W)]),_:2},1032,["to"])])])])])])):w("",!0)],64))),128))])])],64)}const Z=k(T,[["render",X]]);export{Z as default};
